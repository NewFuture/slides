<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"/><title>持续集成 | Continuous integration</title><link href="/assets/css/reveal.min.css" rel="stylesheet"><link href="/assets/css/theme/black.min.css" id="theme" rel="stylesheet"><link href="/assets/css/slide.css" rel="stylesheet"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Build Automation & Continuous Integration"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"><meta name="full-screen" content="yes"><meta name="browsermode" content="application"><meta name="screen-orientation" content="landscape"><meta name="x5-orientation" content="landscape"><meta name="x5-page-mode" content="app"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="HandheldFriendly" content="true"><meta content="telephone=no" name="format-detection"><meta content="email=no" name="format-detection"><link rel="canonical" href="https://slides.newfuture.cc/continuous-integration/"></head><body><main class="reveal"><div class="slides"><section><h1>持续集成</h1><div class="qrcode"> https://api.qrserver.com/v1/create-qr-code/?size=100x100&format=svg&data=https://slides.newfuture.cc/continuous-integration/ <g>https://api.qrserver.com/v1/create-qr-code/?size=100x100&format=svg&data=https://slides.newfuture.cc/continuous-integration/</div><p>Build Automation & Continuous Integration</p><div> <small><a href="/continuous-integration/">slides.newfuture.cc/continuous-integration/</a></small></div><small><a class="author" href="">@NewFuture</a></small></section><section><h2 id="目录">目录</h2><ul><li>自动构建(build automation)<ul><li>流程图</li><li>开源的自动构建方案</li></ul></li><li>持续集成(continuous integration)<ul><li>流程图</li><li>开源方案</li></ul></li><li>代码管理方案</li></ul></section><section><section><h2 id="自动构建">自动构建</h2><p>build automation</p></section><section><p><img src="/assets/img/2017-08-28/build.png" alt="" /></p><div class="highlighter-rouge"><pre class="highlight"><code>code ==&gt; git ==&gt; build (test) ==&gt; deploy
</code></pre></div></section><section><h3 id="开源方案">开源方案</h3><ul><li>Travis-CI (https://travis-ci.org)</li><li>Jenkins (https://jenkins.io)</li></ul></section><section><h3 id="以更新此slides为例">以更新此slides为例</h3><ol><li><a href="https://github.com/NewFuture/slides/edit/edit/_slides/2017-08-28-continuous-integration.md">修改代码!</a>(手动)</li><li><a href="https://github.com/NewFuture/slides/commits/edit">提交代码(commit &amp; push)</a></li><li>github 触发webhook 通知 Travis-CI</li><li>Travis-CI 下载edit分支代码根据配置(<code class="highlighter-rouge">.travis.yml</code>)自动编译</li><li>编译成功将编译后的静态页面推送到<a href="https://github.com/NewFuture/slides/tree/master">master上</a></li><li>网站更新</li></ol></section><section><h3 id="slides-update-flow">slides update flow</h3><p><img src="/assets/img/2017-08-28/buildslides.png" alt="" /></p></section></section><section><section><h2 id="持续集成">持续集成</h2><p>continuous integration</p><p>= <code class="highlighter-rouge">build automation</code> + <code class="highlighter-rouge">code review</code> + <code class="highlighter-rouge">deploy automation</code> + more</p></section><section><h3 id="work-flow">work flow</h3><p><img src="/assets/img/2017-08-28/ci_flow.png" alt="" /></p><p>(两次build 一次 deploy)</p></section><section><h3 id="开源方案github">开源方案（Github）</h3><ul><li><code class="highlighter-rouge">fork</code> 复制代码库</li><li><code class="highlighter-rouge">pull request</code> 提交PR, webhook触发CI</li><li><code class="highlighter-rouge">check</code> CI检查和review等</li><li><code class="highlighter-rouge">merge</code> 合并代码(删除源分支)</li><li>new version or deploy 构建新版本</li></ul></section><section><h3 id="github-pull-request">github pull request</h3><p><img src="/assets/img/2017-08-28/github_pr.png" alt="" /></p></section></section><section><h2 id="vsteam-方案">VSTeam 方案</h2><p>Visual Studio Team Service</p><p><code class="highlighter-rouge">VSTS GIT</code> + <code class="highlighter-rouge">VSTS builds</code> + <code class="highlighter-rouge">VSTS release</code> + <code class="highlighter-rouge">Azure</code></p><ol><li>实时构建和更新</li><li>coder 无需部署环境的访问权限</li></ol></section><section><section><h2 id="代码管理方案">代码管理方案</h2><ul><li><code class="highlighter-rouge">master</code>(readonly) 生产环境代码</li><li><code class="highlighter-rouge">dev</code>(readonly) 开发环境集成代码</li><li><code class="highlighter-rouge">dev-*</code>(单人)或者<code class="highlighter-rouge">feature-*</code>(多人) 开发分支</li></ul></section><section><p><img src="/assets/img/2017-08-28/code_flow.png" alt="" /></p></section><section><h3 id="style-库管理方案">style 库管理方案</h3><ul><li>生产 <a href="https://dgonebox7.live.com/">https://dgonebox7.live.com/</a></li><li>测试 <a href="https://style.chinacloudsites.cn/">https://style.chinacloudsites.cn/</a></li><li><a href="https://shennong.visualstudio.com/SNFrontend/_home">代码</a></li></ul></section></section><section class="end"><h3>THE END</h3><h2><strong>THANKS</strong></h2><h4><small>持续集成</small></h4><p> <small>CODE: <a href="https://github.com/NewFuture/slides/blob/gh-pages/_slides/2017-08-28-continuous-integration.md">https://github.com/NewFuture/slides</a></small><br/> <small>LINK: <a href="/continuous-integration/">https://slides.newfuture.cc/continuous-integration/</a></small></p><footer class="links"> <a class="link" href="https://slides.newfuture.cc">Home(主页)</a> <a class="link" href="#/">Replay(重放)</a> <a class="link" target="_blank" href="https://github.com/NewFuture/slides/edit/gh-pages/_slides/2017-08-28-continuous-integration.md">Edit(修改)</a> <a class="link desktop-chrome" href="?print-pdf">Print(打印)</a></footer></section></div></main><script src="/assets/lib/js/head.min.js"></script><script src="/assets/js/reveal.min.js"></script><script>Reveal.addEventListener( 'ready', function(){ head.test(head.desktop&&/print-pdf/gi.test(location.search), [ '/assets/css/theme/white.min.css', '/assets/css/print/pdf.min.css' ], [], function(){window.print(); setTimeout("history.go(-1)",1500)} ) } ); Reveal.initialize({ loop: false, controls: true, progress: true, history: true, center: true, touch: true, slideNumber: 'c/t', transition: 'slide', dependencies: [ { src: '/assets/lib/js/classList.js', condition: function() { return !document.body.classList; } }, { src: '/assets/js/notes.plugin.min.js', condition: function() { return head.desktop} } ] });</script></body></html>