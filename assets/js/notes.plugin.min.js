/* 
v3.5.0
modified from https://github.com/hakimel/reveal.js/blob/master/plugin/notes/notes.js
*/
var RevealNotes=(function(){function a(f){f=f||"https://slides.newfuture.cc/notes.html";var e=window.open(f,"reveal.js - Notes","width=1100,height=700");e.Reveal=this.Reveal;function b(){var g=setInterval(function(){e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")},500);window.addEventListener("message",function(h){var i=JSON.parse(h.data);if(i&&i.namespace==="reveal-notes"&&i.type==="connected"){clearInterval(g);c()}})}function d(j){var l=Reveal.getCurrentSlide(),g=l.querySelector("aside.notes"),h=l.querySelector(".current-fragment");var i={namespace:"reveal-notes",type:"state",notes:"",markdown:false,whitespace:"normal",state:Reveal.getState()};if(l.hasAttribute("data-notes")){i.notes=l.getAttribute("data-notes");i.whitespace="pre-wrap"}if(h){var k=h.querySelector("aside.notes");if(k){g=k}else{if(h.hasAttribute("data-notes")){i.notes=h.getAttribute("data-notes");i.whitespace="pre-wrap";g=null}}}if(g){i.notes=g.innerHTML;i.markdown=typeof g.getAttribute("data-markdown")==="string"}e.postMessage(JSON.stringify(i),"*")}function c(){Reveal.addEventListener("slidechanged",d);Reveal.addEventListener("fragmentshown",d);Reveal.addEventListener("fragmenthidden",d);Reveal.addEventListener("overviewhidden",d);Reveal.addEventListener("overviewshown",d);Reveal.addEventListener("paused",d);Reveal.addEventListener("resumed",d);d()}b()}if(!/receiver/i.test(window.location.search)){if(window.location.search.match(/(\?|\&)notes/gi)!==null){a()}document.addEventListener("keydown",function(b){if(document.querySelector(":focus")!==null||b.shiftKey||b.altKey||b.ctrlKey||b.metaKey){return}if(Reveal.getConfig().keyboard===false){return}if(b.keyCode===83){b.preventDefault();a()}},false);if(window.Reveal){Reveal.registerKeyboardShortcut("S","Speaker notes view")}}return{open:a}})();
