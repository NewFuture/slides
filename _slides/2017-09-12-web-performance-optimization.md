---
title: Web性能优化
description: Web Performance Optimization
lang: zh
transition: slide
theme: black
width: 1280
height: 720
redirect_from:
  - "/前Web性能优化端简史/"
  - "/Web性能优化"  
  - "/web-performance-optimization"
---


## 目录

* web 处理基本流程
* 后端
* 前端

--------

## time line
![](/assets/img/web-performance-optimization/web_timeline.png)


~~

## 基本流程

`后端输出` ==> `加载前端资源` ==> `渲染交互`

--------------------------
## 后端渲染时间消耗

| 操作           | 基本时间消耗       | 备注说明             |
| -------------- | :----------------- | :------------------: |
| 解析和反向代理 | ms级               | 复杂匹配修改可能变慢 |
| URL路由        | ms级               | 复杂的hook可能变慢   |
| 远程API        | 内网0.5s级/公网s级 | 一般不超过60s        |
| 数据库操作     | 100ms~1s           | 写比读慢             |
| 文件操作       | 10ms级             | 写比读慢             |
| 模板解析渲染   | 10ms               | 嵌套或者ASP控件会慢  |

~~
### 优化原则

1. 尽量减少远程调用
  * 缓存
  * 避免再循环中调用
2. 数据库操作避免大量写入
  * 减少和合并写操作
  * 避免循环中操作数据库
3. 优先使用内存缓存
4

--------------------------
## 前端消耗

* 文件下载 (后端和网络影响)
* 解析执行 
* 页面渲染
* 事件捕获

~~
### 资源下载
| 操作           | 基本时间消耗 | 备注说明           |
| -------------- | :----------- | :----------------: |
| 小静态资源下载 | s级          | 与网速和服务器相关 |
| 大静态资源下载 | 1s~10级      | 与网络状况相关     |
| 缓存           | ms级         |                    |

~~
### 解析执行
| 操作       | 基本时间消耗 | 备注说明                      |
| ---------- | :----------- | :---------------------------: |
| HTML解析   | 10ms级       | 复杂html可能更长              |
| JS框架执行 | 100ms级      |                               |
| CSS解析    | 100ms级      | 避免嵌套层次太多,二次加载资源 |

~~
### 优化原则

* 减少合并请求
* 压缩资源
* 精简首次渲染
* 异步加载非首要内容


----

## HOW

* 后端开发
* 前端开发
* 服务器 和 CDN
